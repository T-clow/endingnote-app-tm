
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-20">
      <div class="card">
        <div class="card-header">
          <h1 class="mb-0">
            <% if current_user.avatar.attached? %>
              <%= image_tag rails_blob_path(current_user.avatar), class: 'avatar-image' %>
            <% else %>
              <%= image_tag("https://rails-02-sample.herokuapp.com/assets/common/default-avatar-7a6cbfd7993e89f24bfc888f4a035a83c6f1428b8bdc47eed9095f2799a40153.png", class: "avatar-image") %>
            <% end %>
              <%= current_user.username %> 様の葬儀屋MAP
          </h1>
        </div>
        <div class="card-body">
          <% content_for :js do %>
            <%= javascript_import_module_tag "map" %>
            <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAPS_API_KEY'] %>&callback=initMap&v=weekly" defer></script>
          <% end %>
          <h3>My Google Maps Demo</h3>
          <div id="map" style="height: 100vh; width: 100%;">
            <div id="loading" class="loading">
              <div class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
              </div>
              <p class="loading-text">現在位置情報を読み込み中です...</p>
            </div>
          </div>
          <div class="mt-4">
            <%= link_to "前の画面に戻る", "/", class: "btn btn-secondary w-100 mt-3" %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
